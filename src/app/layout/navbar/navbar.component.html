<nav class="sidebar">
  <!-- Sidebar Header -->
  <div class="sidebar-header">
    <h3 class="sidebar-title">Projects</h3>
    <button class="btn-create-project" (click)="openCreateProjectModal()" title="Create new project">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
    </button>
  </div>

  <!-- Projects List -->
  <div class="projects-container">
    @let projects = (projects$ | async);
    @if (projects) {
      <div class="projects-list">
        @for (project of projects; track project.id) {
          <button
            class="project-item"
            [class.active]="project.id === activeProjectId"
            (click)="switchProject(project.id)"
            [title]="project.name"
          >
            <span class="project-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 3h2v2H3V3zm4 0h2v2H7V3zm4 0h2v2h-2V3zm4 0h2v2h-2V3zm4 0h2v2h-2V3zM3 7h2v2H3V7zm0 4h2v2H3v-2zm0 4h2v2H3v-2zm0 4h2v2H3v-2zm4-12h2v2H7V7zm0 4h2v2H7v-2zm0 4h2v2H7v-2zm0 4h2v2H7v-2zm4-12h2v2h-2V7zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-12h2v2h-2V7zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-12h2v2h-2V7zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z"/>
              </svg>
            </span>
            <span class="project-name">{{ project.name }}</span>
          </button>
        }
      </div>
    }
  </div>

  <!-- Sidebar Footer -->
  <div class="sidebar-footer">
    <p class="sidebar-hint">{{ activeProjectId ? 'Active project selected' : 'Select a project to start' }}</p>
  </div>
</nav>

<!-- Modal -->
<app-create-project
  *ngIf="showCreateProjectModal"
  (close)="closeCreateProjectModal()"
></app-create-project>
