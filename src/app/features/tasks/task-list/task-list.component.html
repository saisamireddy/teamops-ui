
  <button (click)="openCreateModal()">+ New Task</button>
  <app-create-task
  *ngIf="showCreateModal"
  [projectId]="currentProjectId!"
  [members]="projectMembers"
  (close)="closeCreateModal()"
></app-create-task>
<!-- FILTER CONTROLS -->
<div class="task-filters">
<!-- Status Filter -->
<select
  [value]="filters.status ?? ''"
  (change)="onStatusChange($any($event.target).value)"
>
  <option value="">All Status</option>
  <option value="TODO">Todo</option>
  <option value="IN_PROGRESS">In Progress</option>
  <option value="BLOCKED">Blocked</option>
  <option value="DONE">Done</option>
</select>

<!-- Priority Filter -->
<select
  [value]="filters.priority ?? ''"
  (change)="onPriorityChange($any($event.target).value)"
>
  <option value="">All Priority</option>
  <option value="LOW">Low</option>
  <option value="MED">Medium</option>
  <option value="HIGH">High</option>
  <option value="CRIT">Critical</option>
</select>

<!-- Assignee Filter -->
<select
  [value]="filters.assignee ?? ''"
  (change)="onAssigneeChange($any($event.target).value)"
>
  <option value="">All Assignees</option>
  <option *ngFor="let u of assignees" [value]="u.id">
    {{ u.username }}
  </option>
</select>

<button type="button" (click)="clearFilters()">Clear Filters</button>

</div>

<hr />

<!-- TASK LIST -->
<div *ngIf="visibleTasks.length === 0">
  No tasks in this project.
</div>

<ul>
  <li *ngFor="let task of visibleTasks">
    <strong>{{ task.title }}</strong>
    —
    {{ task.status }}
    —
    {{ task.priority }}
    <span *ngIf="task.assigned_to">
      ({{ task.assigned_to }})
    </span>
  </li>
</ul>
